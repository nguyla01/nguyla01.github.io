<html>
<head>
<style>

#high {
color: red;
}
#medium {
color: green;
}
#low {
color: blue;
}
</style>
</head>


<body>
<h1> To do list app  </h1>
<table id="a"></table>
<lable for="item"> Enter task: </lable>
<input id="item" type="text"/>
<lable> Types: </lable>
<select id="category">
<option value="high"> High </option>
<option value="medium"> Medium </option>
<option value="low"> Low </option>
</select>
<button onclick="addItem()"> New </button>
<script>
clickon= function(){
myCategory=this.classname;
}
addItem= function() {
myUL=document.querySelector('#a');
myTextbox=document.querySelector('#item');
myCategory = document.querySelector('#category').value;
myli=document.createElement('li')
myli.type="none";
myli.classList.add(myCategory);
myli.className=myCategory;
myItem = document.createTextNode(myTextbox.value);
myTextbox.value = "";
myCheckbox=document.createElement('input');
myCheckbox.type="checkbox";
myCheckbox.onclick = checkme;
myli.appendChild(myCheckbox);
myli.appendChild(myItem);
myUL.appendChild(myli);
localSave();
}
var checkme = function(){
if (this.checked){
this.parentNode.classList.add("done");
}
else{
this.parentNode.classList.remove("done");
}
localSave()
}
localSave = function() {
	var res = []
	var i;
	allEntries = document.querySelectorAll('li')
	for(i=0; i < allEntries.length; i++) {
		if (! allEntries[i].classList.contains("done")) {
		res.push(allEntries[i].innerText);
		}
	}

	localStorage.setItem("shoppingStorage",JSON.stringify(res))
}


restoreList = function () {
	allEntries = JSON.parse(localStorage.getItem('shoppingStorage'))
	for (i=0; i < allEntries.length; i++){
	
	bl = document.querySelector("#grocerylist");
	li = document.createElement('li');
	cb= document.createElement("input");
	cb.type = 'checkbox';
	cb.onclick = checkme;	
	li.appendChild(cb);
	t= document.createTextNode(allEntries[i]);
	li.appendChild(t);
	bl.appendChild(li);
	}
	
}

</script>
<script>
window.onload=function() {
restoreList();
}
</script>
</body>
</html>
